#!/bin/bash

CONTRACT_BIN=60806040526040518060400160405280600e81526020017f46616272696342726964676556310000000000000000000000000000000000008152506001908051906020019061004f929190610062565b5034801561005c57600080fd5b50610107565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100a357805160ff19168380011785556100d1565b828001600101855582156100d1579182015b828111156100d05782518255916020019190600101906100b5565b5b5090506100de91906100e2565b5090565b61010491905b808211156101005760008160009055506001016100e8565b5090565b90565b610672806101166000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063209652551461006757806355241077146100855780635a9b0b89146100b3578063d2a2c894146100d1578063d82845aa14610129578063e5aa3d5814610177575b600080fd5b61006f610195565b6040518082815260200191505060405180910390f35b6100b16004803603602081101561009b57600080fd5b810190808035906020019092919050505061019e565b005b6100bb610215565b6040518082815260200191505060405180910390f35b610113600480360360208110156100e757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506102c4565b6040518082815260200191505060405180910390f35b6101756004803603604081101561013f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610463565b005b61017f61060c565b6040518082815260200191505060405180910390f35b60008054905090565b806000819055507f023d5a47bf292dfef6ea670d4beeb8d4f56ccd2306cc63fa0e27cffff353c2b130600054604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a150565b6000806102bb60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102b15780601f10610286576101008083540402835291602001916102b1565b820191906000526020600020905b81548152906001019060200180831161029457829003601f168201915b5050505050610612565b90508091505090565b600080600073ffffffffffffffffffffffffffffffffffffffff166320965255905060e01b9050606081604051602401604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff838183161783525050505090507f3691b6628ee21baef43a73bf9357dac3c0ef934ce5969d382b38c3b3f8960262338583604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561041b578082015181840152602081019050610400565b50505050905090810190601f1680156104485780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160005492505050919050565b60008073ffffffffffffffffffffffffffffffffffffffff166355241077905060e01b9050816000819055506060818360405160240180828152602001915050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff838183161783525050505090507f3691b6628ee21baef43a73bf9357dac3c0ef934ce5969d382b38c3b3f8960262338583604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b838110156105ca5780820151818401526020810190506105af565b50505050905090810190601f1680156105f75780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150505050565b60005481565b6000606082905060008151141561062f576000801b915050610638565b60208301519150505b91905056fea265627a7a72315820ba6b3d6e5cd0266e5734df2e3662844491075a7dede6a5cef5daa0d2e9395adc64736f6c634300050c0032
ORDERER=orderer.example.com:7050
PATH_TO_CAFILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

docker exec -it cli bash -c "peer chaincode invoke -n evmcc -C common -c '{\"Args\":[\"0000000000000000000000000000000000000000\", \"'${CONTRACT_BIN}'\"]}' -o $ORDERER --tls --cafile $PATH_TO_CAFILE"
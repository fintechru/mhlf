#!/bin/bash

CONTRACT_BIN=60806040526040805190810160405280600e81526020017f46616272696342726964676556310000000000000000000000000000000000008152506001908051906020019061004f929190610062565b5034801561005c57600080fd5b50610107565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100a357805160ff19168380011785556100d1565b828001600101855582156100d1579182015b828111156100d05782518255916020019190600101906100b5565b5b5090506100de91906100e2565b5090565b61010491905b808211156101005760008160009055506001016100e8565b5090565b90565b6106e4806101166000396000f300608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063209652551461007d57806355241077146100a85780635a9b0b89146100d5578063d2a2c89414610108578063d82845aa1461015f578063e5aa3d58146101ac575b600080fd5b34801561008957600080fd5b506100926101d7565b6040518082815260200191505060405180910390f35b3480156100b457600080fd5b506100d3600480360381019080803590602001909291905050506101e0565b005b3480156100e157600080fd5b506100ea610257565b60405180826000191660001916815260200191505060405180910390f35b34801561011457600080fd5b50610149600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610306565b6040518082815260200191505060405180910390f35b34801561016b57600080fd5b506101aa600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506104c1565b005b3480156101b857600080fd5b506101c1610687565b6040518082815260200191505060405180910390f35b60008054905090565b806000819055507f023d5a47bf292dfef6ea670d4beeb8d4f56ccd2306cc63fa0e27cffff353c2b130600054604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a150565b6000806102fd60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102f35780601f106102c8576101008083540402835291602001916102f3565b820191906000526020600020905b8154815290600101906020018083116102d657829003601f168201915b505050505061068d565b90508091505090565b6000806060600073ffffffffffffffffffffffffffffffffffffffff16632096525590507c010000000000000000000000000000000000000000000000000000000002915081604051602401604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff838183161783525050505090507f3691b6628ee21baef43a73bf9357dac3c0ef934ce5969d382b38c3b3f8960262338583604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561047957808201518184015260208101905061045e565b50505050905090810190601f1680156104a65780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a160005492505050919050565b60006060600073ffffffffffffffffffffffffffffffffffffffff16635524107790507c010000000000000000000000000000000000000000000000000000000002915082600081905550818360405160240180828152602001915050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff838183161783525050505090507f3691b6628ee21baef43a73bf9357dac3c0ef934ce5969d382b38c3b3f8960262338583604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b8381101561064557808201518184015260208101905061062a565b50505050905090810190601f1680156106725780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150505050565b60005481565b600060608290506000815114156106aa57600060010291506106b2565b602083015191505b509190505600a165627a7a72305820896c6f029ed09ae5864e358da8ff312e14f1e4377f02aa08e6f34530e923b19d0029
ORDERER=orderer.example.com:7050
PATH_TO_CAFILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

docker exec -it cli bash -c "peer chaincode invoke -n evmcc -C common -c '{\"Args\":[\"0000000000000000000000000000000000000000\", \"'${CONTRACT_BIN}'\"]}' -o $ORDERER --tls --cafile $PATH_TO_CAFILE"